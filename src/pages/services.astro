---
import Layout from "../layouts/Layout.astro";
import ContactSection from "../shared/components/ContactSection.astro";
import ServiceGallery from "../shared/components/ServiceGallery.astro";
import { Image } from "astro:assets";

import gEva1 from "../assets/images/manualidades/manualidades1.jpg";
import gEva2 from "../assets/images/manualidades/manualidades2.jpg";
import gEva3 from "../assets/images/manualidades/manualidades3.jpg";
import gEva4 from "../assets/images/manualidades/manualidades4.jpg";

import maq1 from "../assets/images/maquetas/maqueta1.jpg";
import maq2 from "../assets/images/maquetas/maqueta2.png";
import maq3 from "../assets/images/maquetas/maqueta3.jpg";
import maq4 from "../assets/images/maquetas/maqueta4.jpg";
import ScissorsIcon from "../shared/icons/ScissorsIcon.astro";
import GalleryIcon from "../shared/icons/GalleryIcon.astro";
import PaletteIcon from "../shared/icons/PaletteIcon.astro";
import PencilIcon from "../shared/icons/PencilIcon.astro";

interface Service {
    id: string;
    name: string;
    category: "goma-eva" | "maquetas";
    description: string;
    images: string[];
    galleryImages: ImageMetadata[];
    examples: string[];
    icon: any;
}

const services: Service[] = [
    {
        id: "srv-001",
        name: "Manualidades creativas",
        category: "goma-eva",
        description:
            "Creamos hermosas manualidades personalizadas en goma eva (foami/microporoso) para todo tipo de ocasiones: cumpleaños, baby showers, fiestas infantiles, decoración escolar y más. Cada pieza es hecha a mano con amor y atención al detalle.",
        images: [
            "https://images.unsplash.com/photo-1513364776144-60967b0f800f?w=600",
            "https://images.unsplash.com/photo-1452860606245-08befc0ff44b?w=600",
        ],
        galleryImages: [gEva1, gEva2, gEva3, gEva4],
        examples: [
            "Decoración para fiestas temáticas",
            "Letras y nombres decorativos",
            "Muñecos y figuras fofuchas",
            "Material didáctico escolar",
            "Recuerdos para eventos",
        ],
        icon: PaletteIcon,
    },
    {
        id: "srv-002",
        name: "Creación de Maquetas",
        category: "maquetas",
        description:
            "Diseñamos y construimos maquetas profesionales para proyectos escolares, universitarios y presentaciones. Trabajamos con diversos materiales y técnicas para lograr resultados impresionantes y detallados.",
        images: [
            "https://images.unsplash.com/photo-1503387762-592deb58ef4e?w=600",
            "https://images.unsplash.com/photo-1581094794329-c8112a89af12?w=600",
        ],
        galleryImages: [maq1, maq2, maq3, maq4],
        examples: [
            "Proyectos escolares",
            "Maquetas de ciencias",
            "Dioramas históricos",
            "Maquetas temáticas",
        ],
        icon: PencilIcon,
    },
];
---

<Layout title="Servicios">
    <section
        class="py-16 bg-gradient-to-br from-primary/10 via-background to-accent/10"
    >
        <div class="container">
            <div
                class="text-center max-w-2xl mx-auto flex flex-col items-center"
            >
                <ScissorsIcon class="w-12 h-12 text-primary mb-4" />
                <h1
                    class="font-display text-4xl font-bold text-foreground mb-4"
                >
                    Servicios Creativos
                </h1>
                <p class="text-muted-foreground text-lg">
                    Además de nuestros productos de belleza, ofrecemos servicios
                    de creación artesanal para hacer tus eventos aún más
                    especiales.
                </p>
            </div>
        </div>
    </section>

    <section class="py-16">
        <div class="container">
            <div class="space-y-20">
                {
                    services.map((service, index) => {
                        const Icon = service.icon;
                        return (
                            <div accesskey={service.id}>
                                <div
                                    class={`grid lg:grid-cols-2 gap-10 items-center ${
                                        index % 2 === 1
                                            ? "lg:grid-flow-col-dense"
                                            : ""
                                    }`}
                                >
                                    {/* Images */}
                                    <div
                                        class={`${index % 2 === 1 ? "lg:col-start-2" : ""}`}
                                    >
                                        <div class="grid grid-cols-2 gap-4">
                                            {service.images.map(
                                                (image, imgIndex) => (
                                                    <div
                                                        accesskey={
                                                            imgIndex +
                                                            service.id
                                                        }
                                                        class={`rounded-xl overflow-hidden ${
                                                            imgIndex === 0
                                                                ? "col-span-2"
                                                                : ""
                                                        }`}
                                                    >
                                                        <Image
                                                            src={image}
                                                            alt={`${
                                                                service.name
                                                            } - imagen ${
                                                                imgIndex + 1
                                                            }`}
                                                            width={600}
                                                            height={400}
                                                            class="w-full h-48 md:h-64 object-cover hover:scale-105 transition-transform duration-500"
                                                        />
                                                    </div>
                                                ),
                                            )}
                                        </div>
                                    </div>

                                    {/* Content */}
                                    <div
                                        class={`${index % 2 === 1 ? "lg:col-start-1 lg:row-start-1" : ""}`}
                                    >
                                        <div class="flex items-center gap-3 mb-4">
                                            <div class="p-2 bg-primary/10 rounded-lg text-primary">
                                                <Icon class="w-8 h-8" />
                                            </div>
                                            <h2 class="font-display text-3xl font-bold text-foreground">
                                                {service.name}
                                            </h2>
                                        </div>
                                        <p class="text-muted-foreground leading-relaxed mb-6">
                                            {service.description}
                                        </p>

                                        <div class="mb-8">
                                            <h3 class="font-display text-lg font-semibold text-foreground mb-4">
                                                ¿Qué podemos crear para ti?
                                            </h3>
                                            <ul class="grid grid-cols-1 sm:grid-cols-2 gap-3">
                                                {service.examples.map(
                                                    (example, exIndex) => (
                                                        <li
                                                            accesskey={
                                                                exIndex +
                                                                service.id
                                                            }
                                                            class="flex items-center gap-2 text-sm text-muted-foreground"
                                                        >
                                                            <span class="w-2 h-2 rounded-full bg-primary flex-shrink-0" />
                                                            {example}
                                                        </li>
                                                    ),
                                                )}
                                            </ul>
                                        </div>

                                        <a
                                            href={`https://wa.me/51981713119?text=${encodeURIComponent(
                                                `¡Hola! Me interesa el servicio de ${service.name}. ¿Podrían darme más información y presupuesto?`,
                                            )}`}
                                            target="_blank"
                                            rel="noopener noreferrer"
                                            class="inline-flex items-center gap-2 bg-primary hover:bg-primary/90 text-primary-foreground px-6 py-3 rounded-lg font-medium transition-all hover:shadow-lg"
                                        >
                                            Solicitar Cotización
                                        </a>
                                    </div>
                                </div>

                                {/* Gallery Section */}
                                <div class="mt-12">
                                    <div class="flex items-center gap-3 mb-6">
                                        <GalleryIcon />
                                        <h3 class="font-display text-xl font-semibold text-foreground">
                                            Galería de Trabajos
                                        </h3>
                                    </div>
                                    <ServiceGallery
                                        images={service.galleryImages}
                                        serviceName={service.name}
                                    />
                                </div>

                                {index < services.length - 1 && (
                                    <div class="mt-16 border-t border-border" />
                                )}
                            </div>
                        );
                    })
                }
            </div>
        </div>
    </section>

    <ContactSection
        title="¿Tienes una idea en mente?"
        description="Cuéntanos tu proyecto y crearemos algo único y especial para ti. Cada pieza es hecha a mano con amor y dedicación."
    />
</Layout>
